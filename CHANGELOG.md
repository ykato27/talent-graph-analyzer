# 変更履歴 (CHANGELOG)

すべての注目すべき変更がこのプロジェクトに記録されます。

## [1.2.0] - 2025-11-05

### 🎨 追加機能
- **ダッシュボード UI リデザイン**: 新しいダッシュボードレイアウトで結果表示を改善
  - Top 3スキルをカード形式で表示
  - スキル保有率比較グラフの統合表示
  - 社員スコア分布を分かりやすく表示
  - スキル相互作用グラフの追加表示

- **UIコンポーネント化**: 再利用可能な関数に分割
  - `render_skill_cards()`: Top スキルカード表示
  - `render_analysis_metrics()`: 分析サマリー表示
  - `render_dashboard_charts()`: グラフ統合表示
  - `render_model_metrics()`: モデル性能表示
  - `render_detailed_analysis()`: 詳細分析（折りたたみ式）

### 🔧 改善
- コード品質向上：app.pyを1197行から624行に削減（47%短縮）
- 可読性向上：複雑な結果表示ロジックをシンプルな関数呼び出しに統一
- 保守性向上：ダッシュボード表示ロジックをモジュール化

### ♻️ リファクタリング
- 旧タブベースUI（~600行）を新しいダッシュボードコンポーネント関数に置き換え
- 共通UI処理を関数化して重複コードを削減

---

## [1.1.0] - 2025-11-XX

### 🎨 追加機能
- **リアルタイム学習進捗表示**
  - 進捗バー表示（エポック進捗）
  - リアルタイムロス関数表示
  - 経過時間と推定残り時間の計算・表示
  - エポック/総エポック数の表示

### 🔧 改善
- 学習中のユーザー体験向上：待機中の不確実性を軽減
- モデル学習時間の自動計測
- `on_epoch_callback` パラメータでリアルタイム更新を実現

### 🐛 バグ修正
- `causal_effect` が None の場合のエラー修正（`abs(None)` エラー）
- 古いモデルインスタンスの属性エラー修正

### 📚 ドキュメント
- tqdm を requirements.txt に追加

---

## [1.0.0] - 2025-XX-XX

### 🎨 主要機能

#### モデル
- **GraphSAGE ベース Graph Neural Network**
  - 3層のグラフ畳み込みレイヤー
  - 近傍集約による社員間の関係性学習
  - 128次元埋め込みベクトル出力

#### 学習方法
- **半教師あり学習**
  - エッジ予測損失による構造学習
  - 対照学習損失による埋め込み改善
  - ラベルなしデータ（非優秀群）を活用

- **Few-shot学習**
  - 優秀群5名程度の少数サンプルで学習可能
  - プロトタイプベースの距離学習

#### 分析機能
- **重要スキル抽出**
  - Fisher正確検定による統計的有意性評価
  - FDR補正による多重検定補正
  - 信頼度付きスキルランキング

- **因果推論**
  - 傾向スコアマッチングによる交絡因子調整
  - 平均処置効果（ATE）推定
  - 95%信頼区間の提供

- **スキル相互作用分析**
  - 2つのスキルの相乗効果検出
  - 4グループ比較による効果測定
  - 育成計画への応用

- **モデル評価**
  - Holdout法による評価
  - LOOCV による少数サンプル評価
  - AUC、Precision、Recall、F1スコア計算
  - 過学習自動検出

#### UI
- **Streamlit ベース Web インターフェース**
  - CSVファイルアップロード機能
  - 対話的なデータ選択UI
  - インタラクティブなグラフ表示（Plotly）
  - 結果のCSV ダウンロード機能

#### その他
- **モデルバージョン管理**
  - 学習済みモデルの自動保存
  - メタデータの記録
  - 再現性確保

- **設定カスタマイズ**
  - config.yaml による全パラメータ設定
  - カラム名マッピング機能
  - UI色設定のカスタマイズ

- **CPU 最適化**
  - GPU不要で動作
  - メモリ効率を考慮した実装

---

## 技術スタック

| 項目 | 技術 | バージョン |
|------|------|----------|
| UI Framework | Streamlit | ≥1.28.0 |
| データ処理 | Pandas, NumPy | ≥2.0.0, ≥1.24.0 |
| 機械学習 | scikit-learn | ≥1.3.0 |
| グラフ処理 | NetworkX (予定) | - |
| グラフ表示 | Plotly | ≥5.17.0 |
| 統計分析 | scipy, statsmodels | ≥1.11.0, ≥0.14.0 |
| 進捗表示 | tqdm | ≥4.65.0 |
| 設定管理 | PyYAML | ≥6.0 |
| Python | - | ≥3.8 |

---

## 破壊的変更 (Breaking Changes)

- なし

---

## 既知の制限

1. **少数サンプルでの精度**: 優秀群5名未満では精度が低下する可能性がある
2. **スキル数制限**: 非常に多数のスキル（1000以上）ではメモリ消費が増加
3. **クラスバランス**: 優秀群の比率が10%以下の場合、精度が低下する可能性がある

---

## 今後の予定 (Roadmap)

- [ ] GPU サポート
- [ ] 分散学習対応
- [ ] より高度な可視化ツール
- [ ] API エンドポイント提供
- [ ] Docker コンテナ化
- [ ] ダッシュボード PDF エクスポート
- [ ] リアルタイム更新モード

