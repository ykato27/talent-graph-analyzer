# GNNå„ªç§€äººæåˆ†æã‚·ã‚¹ãƒ†ãƒ  - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

# GNNãƒ¢ãƒ‡ãƒ«ã®è¨­å®š
model:
  n_layers: 3
  hidden_dim: 128
  dropout: 0.3
  learning_rate: 0.01
  k_neighbors: 10  # ã‚°ãƒ©ãƒ•æ§‹ç¯‰æ™‚ã®è¿‘å‚æ•°

# å­¦ç¿’ã®è¨­å®š
training:
  default_epochs: 100
  min_epochs: 50
  max_epochs: 500
  early_stopping_patience: 20
  batch_size_edges: 1000  # ã‚¨ãƒƒã‚¸ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°æ•°

# åˆ†æã®è¨­å®š
analysis:
  min_excellent_members: 3
  max_excellent_members_recommended: 20
  top_skills_display: 50
  essential_skill_threshold: 0.8  # å¿…é ˆã‚¹ã‚­ãƒ«ã¨ã¿ãªã™ä¿æœ‰ç‡
  important_skill_diff_threshold: 0.3  # é‡è¦ã‚¹ã‚­ãƒ«ã¨ã¿ãªã™å·®åˆ†
  significant_skill_diff_threshold: 0.2  # æœ‰æ„ã¨ã¿ãªã™å·®åˆ†

# ãƒ‡ãƒ¼ã‚¿ã‚«ãƒ©ãƒ åãƒãƒƒãƒ”ãƒ³ã‚°
column_names:
  member:
    code: "ãƒ¡ãƒ³ãƒãƒ¼ã‚³ãƒ¼ãƒ‰  ###[member_code]###"
    name: "ãƒ¡ãƒ³ãƒãƒ¼å  ###[name]###"
    retired_day: "é€€è·å¹´æœˆæ—¥  ###[retired_day]###"
    enter_day: "å…¥ç¤¾å¹´æœˆæ—¥  ###[enter_day]###"
    job_grade: "è·èƒ½ãƒ»ç­‰ç´š  ###[job_grade]###"
    job_position: "å½¹è·  ###[job_position]###"

  acquired:
    member_code: "ãƒ¡ãƒ³ãƒãƒ¼ã‚³ãƒ¼ãƒ‰"
    competence_type: "åŠ›é‡ã‚¿ã‚¤ãƒ—  ###[competence_type]###"
    competence_code: "åŠ›é‡ã‚³ãƒ¼ãƒ‰"
    competence_name: "åŠ›é‡å"
    level: "ãƒ¬ãƒ™ãƒ«"

  competence_types:
    skill: "SKILL"
    education: "EDUCATION"
    license: "LICENSE"

# å½¹è·ãƒãƒƒãƒ”ãƒ³ã‚°
position_mapping:
  "éƒ¨é•·": 4
  "èª²é•·": 3
  "ä¿‚é•·": 2
  "ç­é•·": 1
  "è·é•·": 1

# UIè¨­å®š
ui:
  page_title: "GNNå„ªç§€äººæåˆ†æã‚·ã‚¹ãƒ†ãƒ "
  page_icon: "ğŸ¯"

  # ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
  colors:
    excellent_group: "#FF6B6B"
    non_excellent_group: "#4ECDC4"
    primary: "#FF6B6B"
    secondary: "#4ECDC4"

  # è¡¨ç¤ºè¨­å®š
  display:
    top_skills_chart: 15
    member_scores_height: 400
    chart_height: 600
    histogram_bins: 20

  # ã‚¨ãƒãƒƒã‚¯æ¨å¥¨å€¤
  epoch_recommendations:
    small_group: [50, 100]  # 5åä»¥ä¸‹
    medium_group: [100, 200]  # 10åç¨‹åº¦
    large_group: [200, 300]  # 20åä»¥ä¸Š

# ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š
files:
  encoding: "utf-8-sig"
  export:
    skill_importance: "skill_importance.csv"
    member_scores: "member_scores.csv"

# çµ±è¨ˆçš„æ¤œå®šã®è¨­å®š
statistical_tests:
  significance_level: 0.05  # æœ‰æ„æ°´æº–
  multiple_testing_correction: "fdr_bh"  # å¤šé‡æ¤œå®šè£œæ­£æ³•: "fdr_bh", "bonferroni", "none"
  min_sample_size_warning: 30  # ã‚µãƒ³ãƒ—ãƒ«æ•°ã®è­¦å‘Šé–¾å€¤
  show_confidence_intervals: true
  confidence_level: 0.95  # ä¿¡é ¼åŒºé–“ã®æ°´æº–

# å› æœæ¨è«–ã®è¨­å®š
causal_inference:
  enabled: true
  propensity_score:
    caliper: 0.1  # ãƒãƒƒãƒãƒ³ã‚°ã®è¨±å®¹ç¯„å›²ï¼ˆ0.05-0.2æ¨å¥¨ï¼‰
    min_matched_pairs: 5  # æœ€ä½ãƒãƒƒãƒãƒ³ã‚°ãƒšã‚¢æ•°
  confounders:
    use_years_of_service: true
    use_grade: true
    use_position: true
    use_skill_count: true
  show_in_ui: true

# ã‚¹ã‚­ãƒ«ç›¸äº’ä½œç”¨åˆ†æã®è¨­å®š
skill_interaction:
  enabled: true
  synergy_threshold: 0.1  # ç›¸ä¹—åŠ¹æœã®é–¾å€¤ï¼ˆ10%ä»¥ä¸Šï¼‰
  min_both_rate: 0.7  # ä¸¡æ–¹ä¿æœ‰æ™‚ã®æœ€ä½å„ªç§€ç‡
  max_pairs_to_analyze: 1000  # åˆ†æã™ã‚‹çµ„ã¿åˆã‚ã›ã®ä¸Šé™ï¼ˆè¨ˆç®—æ™‚é–“å‰Šæ¸›ï¼‰
  show_in_ui: true

# ãƒ¢ãƒ‡ãƒ«è©•ä¾¡ã®è¨­å®š
evaluation:
  enabled: true
  method: "holdout"  # "holdout", "loocv", "both"
  holdout:
    test_ratio: 0.2  # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®å‰²åˆ
    random_seed: 42
    min_test_samples: 1
  loocv:
    enabled_when_small_sample: true  # å°‘æ•°ã‚µãƒ³ãƒ—ãƒ«æ™‚ã«è‡ªå‹•ã§LOOCVã‚’ä½¿ç”¨
    small_sample_threshold: 10  # ã“ã®æ•°ä»¥ä¸‹ã®å ´åˆã«LOOCVã‚’ä½¿ç”¨
  metrics:
    - "auc"
    - "precision"
    - "recall"
    - "f1"
  show_in_ui: true
  warn_overfitting_threshold: 0.2  # train/testã®AUCå·®åˆ†ãŒã“ã®å€¤ã‚’è¶…ãˆãŸã‚‰è­¦å‘Š

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
versioning:
  enabled: true
  save_models: true
  model_dir: "./models"
  log_dir: "./logs"
  include_metadata: true  # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€æ—¥æ™‚ãªã©ï¼‰ã‚’ä¿å­˜

# ãƒ­ã‚®ãƒ³ã‚°è¨­å®š
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file_logging: true
  log_file: "talent_analyzer.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5
  console_logging: true

# æ‹¡å¼µå› æœæ¨è«–è¨­å®š
advanced_causal_inference:
  # æ„Ÿåº¦åˆ†æ
  sensitivity_analysis:
    enabled: true
    rosenbaum_gamma_values: [1.0, 1.5, 2.0, 2.5, 3.0]
    e_value_threshold: 2.0  # ã“ã®å€¤ä»¥ä¸Šã§é ‘å¥ã¨ã¿ãªã™

  # ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼é ‘å¥æ¨å®š
  cluster_robust:
    enabled: true
    min_clusters: 3  # æœ€ä½ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ•°
    icc_warning_threshold: 0.15  # ã“ã®å€¤ä»¥ä¸Šã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°åŠ¹æœãŒå¤§ãã„ã¨è­¦å‘Š

  # PSMè¨ºæ–­
  psm_diagnostics:
    enabled: true
    smd_threshold: 0.1  # ãƒãƒ©ãƒ³ã‚¹ã®è‰¯ã„é–¾å€¤
    overlap_method: "minmax"  # "minmax" or "percentile"
    min_overlap_percentage: 75  # æœ€ä½é‡ãªã‚Šå‰²åˆ

  # DIDåˆ†æ
  did_analysis:
    enabled: true
    parallel_trends_pvalue: 0.05
    use_staggered_did: true  # ç•°ãªã‚‹æ™‚ç‚¹ã§ã®å‡¦ç½®ã‚’è¨±å¯

  # Causal Forest
  causal_forest:
    enabled: true
    n_estimators: 100
    min_samples_leaf: 5
    max_depth: null
    n_subgroups: 3  # ç‰¹å®šã™ã‚‹ã‚µãƒ–ã‚°ãƒ«ãƒ¼ãƒ—æ•°

# ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒè¨­å®š
baseline_comparison:
  enabled: true
  models:
    logistic_regression:
      enabled: true
      max_iter: 1000
      class_weight: "balanced"
    random_forest:
      enabled: true
      n_estimators: 100
      max_depth: 10
      min_samples_split: 5
    xgboost:
      enabled: true
      n_estimators: 100
      max_depth: 6
      learning_rate: 0.1

# ã‚¯ãƒ­ã‚¹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
cross_validation:
  enabled: true
  method: "stratified"  # "stratified", "loocv", "nested"
  n_splits: 5
  metrics:
    - "accuracy"
    - "precision"
    - "recall"
    - "f1"
    - "roc_auc"
  nested_cv:
    enabled: false  # è¨ˆç®—ã‚³ã‚¹ãƒˆé«˜
    n_outer_splits: 5
    n_inner_splits: 3

# å¯è¦–åŒ–è¨­å®š
visualization:
  enabled: true
  love_plot:
    enabled: true
    figsize: [10, 6]
  calibration_plot:
    enabled: true
    n_bins: 10
  did_plots:
    enabled: true
  save_plots: true
  output_dir: "./plots"
